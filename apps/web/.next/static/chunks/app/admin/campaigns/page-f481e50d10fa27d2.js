(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93],{7436:function(e,a,n){Promise.resolve().then(n.bind(n,3711))},3711:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return l}});var t=n(7573),s=n(7653),d=n(9508),r=n(9313);function l(){let e=(0,d.ad)(r.l),[a,n]=(0,s.useState)([]),[l,i]=(0,s.useState)(""),[c,o]=(0,s.useState)("<h1>Title</h1><p>Body</p>");(0,s.useEffect)(()=>{(async()=>{n((await (0,d.PL)((0,d.hJ)(e,"marketing_campaigns"))).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let u=async()=>{await (0,d.ET)((0,d.hJ)(e,"marketing_campaigns"),{subject:l,html:c,createdAt:(0,d.Bt)()}),window.location.reload()},_=async a=>{await (0,d.ET)((0,d.hJ)(e,"jobs_queue"),{type:"marketing-batch-send",payload:{campaignId:a}}),alert("Queued!")},p=async a=>{await (0,d.r7)((0,d.JU)(e,"marketing_campaigns",a),{subject:l,html:c,updatedAt:(0,d.Bt)()}),window.location.reload()};return(0,t.jsxs)("main",{className:"p-6 max-w-3xl mx-auto space-y-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Campaigns"}),(0,t.jsx)("input",{className:"border p-2 rounded-xl w-full",value:l,onChange:e=>i(e.target.value)}),(0,t.jsx)("textarea",{className:"border p-2 rounded-xl w-full min-h-48 font-mono",value:c,onChange:e=>o(e.target.value)}),(0,t.jsx)("button",{onClick:u,className:"border rounded-xl px-4 py-2",children:"Add"}),(0,t.jsx)("ul",{className:"grid gap-2",children:a.map(e=>(0,t.jsxs)("li",{className:"border rounded-xl p-3 space-x-2",children:[(0,t.jsx)("span",{children:e.subject}),(0,t.jsx)("button",{onClick:()=>_(e.id),className:"border rounded-xl px-2 text-sm",children:"Send"}),(0,t.jsx)("button",{onClick:()=>p(e.id),className:"border rounded-xl px-2 text-sm",children:"Update"})]},e.id))})]})}},9313:function(e,a,n){"use strict";n.d(a,{l:function(){return l}});var t=n(1209),s=n(4106),d=n(3875);let r={apiKey:d.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:d.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:d.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:d.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:d.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:d.env.NEXT_PUBLIC_FIREBASE_APP_ID},l=(0,t.C6)().length?(0,t.C6)()[0]:(0,t.ZF)(r);(0,s.v0)(l)}},function(e){e.O(0,[301,832,81,293,286,744],function(){return e(e.s=7436)}),_N_E=e.O()}]);