(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{565:function(e,n,a){Promise.resolve().then(a.bind(a,5584))},5584:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return o}});var t=a(7573),l=a(7653),s=a(9508),d=a(9313);function o(){let e=(0,s.ad)(d.l),[n,a]=(0,l.useState)([]),[o,r]=(0,l.useState)("weekly-scroll-generate"),[u,c]=(0,l.useState)('{\n  "userId": "demo"\n}');(0,l.useEffect)(()=>{(async()=>{a((await (0,s.PL)((0,s.hJ)(e,"schedules"))).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let i=async()=>{await (0,s.ET)((0,s.hJ)(e,"schedules"),{type:o,payload:JSON.parse(u),nextRunAt:(0,s.Bt)(),cron:"*/30 * * * *"}),window.location.reload()};return(0,t.jsxs)("main",{className:"p-6 max-w-3xl mx-auto space-y-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Schedules"}),(0,t.jsx)("input",{className:"border p-2 rounded-xl w-full",value:o,onChange:e=>r(e.target.value)}),(0,t.jsx)("textarea",{className:"border p-2 rounded-xl w-full min-h-48 font-mono",value:u,onChange:e=>c(e.target.value)}),(0,t.jsx)("button",{onClick:i,className:"border rounded-xl px-4 py-2",children:"Add"}),(0,t.jsx)("ul",{className:"grid gap-2",children:n.map(e=>{var n,a,l,s;return(0,t.jsxs)("li",{className:"border rounded-xl p-3",children:[e.type," â€¢ next: ",(null===(l=e.nextRunAt)||void 0===l?void 0:null===(a=l.toDate)||void 0===a?void 0:null===(n=(s=a.call(l)).toLocaleString)||void 0===n?void 0:n.call(s))||"-"]},e.id)})})]})}},9313:function(e,n,a){"use strict";a.d(n,{l:function(){return o}});var t=a(1209),l=a(4106),s=a(3875);let d={apiKey:s.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:s.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:s.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:s.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:s.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:s.env.NEXT_PUBLIC_FIREBASE_APP_ID},o=(0,t.C6)().length?(0,t.C6)()[0]:(0,t.ZF)(d);(0,l.v0)(o)}},function(e){e.O(0,[301,832,81,293,286,744],function(){return e(e.s=565)}),_N_E=e.O()}]);