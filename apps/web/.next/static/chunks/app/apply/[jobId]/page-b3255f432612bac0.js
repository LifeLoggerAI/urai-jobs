(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[559],{9790:function(e,a,l){Promise.resolve().then(l.bind(l,1317))},1317:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return i}});var n=l(7573),t=l(7653),r=l(7754),o=l(9508),s=l(6334),u=l(9313);function i(){let{jobId:e}=(0,r.useParams)(),a=(0,r.useRouter)(),[l,i]=(0,t.useState)(null),[c,p]=(0,t.useState)({fullName:"",email:"",phone:"",links:"",coverLetter:""}),[d,m]=(0,t.useState)(!1),_=async n=>{if(n.preventDefault(),d)return;m(!0);let t=(0,o.ad)(u.l),r=(0,s.cF)(u.l),i="";if(l){let e="resumes/".concat(Date.now(),"_").concat(l.name),a=(0,s.iH)(r,e);await (0,s.KV)(a,l),i=e}await (0,o.ET)((0,o.hJ)(t,"applications"),{jobId:String(e),fullName:c.fullName,email:c.email,phone:c.phone,links:c.links.split(",").map(e=>e.trim()).filter(Boolean),coverLetter:c.coverLetter,resumePath:i,source:"urai.app",createdAt:(0,o.Bt)()}),a.push("/jobs")};return(0,n.jsxs)("main",{className:"mx-auto max-w-2xl p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold mb-2",children:"Apply"}),(0,n.jsxs)("form",{onSubmit:_,className:"grid gap-4",children:[(0,n.jsx)("input",{className:"border p-2 rounded-xl",placeholder:"Full name",value:c.fullName,onChange:e=>p({...c,fullName:e.target.value})}),(0,n.jsx)("input",{className:"border p-2 rounded-xl",placeholder:"Email",value:c.email,onChange:e=>p({...c,email:e.target.value})}),(0,n.jsx)("input",{className:"border p-2 rounded-xl",placeholder:"Phone",value:c.phone,onChange:e=>p({...c,phone:e.target.value})}),(0,n.jsx)("input",{className:"border p-2 rounded-xl",placeholder:"Links (comma separated)",value:c.links,onChange:e=>p({...c,links:e.target.value})}),(0,n.jsx)("textarea",{className:"border p-2 rounded-xl min-h-40",placeholder:"Cover letter",value:c.coverLetter,onChange:e=>p({...c,coverLetter:e.target.value})}),(0,n.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{var a;return i((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)}}),(0,n.jsx)("button",{disabled:d,className:"rounded-xl border px-4 py-2",children:"Submit"})]})]})}},9313:function(e,a,l){"use strict";l.d(a,{l:function(){return s}});var n=l(1209),t=l(4106),r=l(3875);let o={apiKey:r.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:r.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:r.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:r.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:r.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:r.env.NEXT_PUBLIC_FIREBASE_APP_ID},s=(0,n.C6)().length?(0,n.C6)()[0]:(0,n.ZF)(o);(0,t.v0)(s)}},function(e){e.O(0,[301,832,81,437,293,286,744],function(){return e(e.s=9790)}),_N_E=e.O()}]);